<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
<title> Blue Mango || Vampire Savior
</title>
</head>
<body>

<style>
	.container {
		display: grid;

		grid-template-columns: 100px auto auto 100px;
		grid-template-rows: 25% 25% 25% 25%;
	}

	.item-1 {
		grid-column-start:2;
		grid-column-end:2;
		grid-row-start:2;
		grid-row-end:2;

	}

	.item-2 {
		grid-column-start:3;
		grid-column-end:3;
		grid-row-start:2;
		grid-row-end:2;

	}

	.item-3 {
		grid-column-start:1;
		grid-column-end: 5;
		grid-row-start:3;
		grid-row-end:4;

	}

	#gameRoom {
		border:1px black solid;
	}


</style>

	<div id="gameRoom" class="container">
		<div class="item-1" style="border: 1px green solid;text-align: center;">
			<h1> Blue Mango || Vampire Savior </h1>
			<small> Level 1 Necromancer </small>
			<p> <span id="timer"> 0 </span> skeletons raised </p>
			<button onclick="wipeTimer();"> Destroy all skeletons! </button>
			<button onclick="add();"> Summon a guy! </button>
			<button onclick="createSummoner();"> Create Summoner </button>
		</div>	
		<div class="item-2" style="border: 1px green solid;text-align: center;">
			<h2> Activties </h1>
			<ul>
				<li>Invade Town</li>
				<li>Summon Golem</li>
				<li>Research Curse</li>
			</ul>
			<p> <span id="timer"> 0 </span> liters of blood harvested </p>
		</div>
		<div class="item-3" style="border: 1px green solid;text-align: center;">
		<h3> The play field </h3>

		<h4> Items / Spells / Assets </h4>

		<p> <span id="summoners">0</span> summoner at work. </p>


		</div>	

	</div>



<script type="text/javascript">
//Initialize variables
var time = 0;
var timerID = document.getElementById("timer");
var summonerID = document.getElementById("summoners");

var items_Summoner = 0;
var totalItems = [0];
var power = 0

//Adds 1 value to the timer
function add(){
	time = time + 1; 
	timerID.innerHTML = time;
}

//Sets the value of the timer to 0, and removes the item from localstorage.
function wipeTimer(){
	time = 0;
	items_Summoner = 0;
	summonerID.innerHTML = 0;
	timerID.innerHTML = localStorage.getItem('time');
	localStorage.setItem("time", time);
	localStorage.setItem("items_Summoner", items_Summoner);
	totalItems[0] = localStorage.getItem("items_Summoner", items_Summoner);
}

function createSummoner(){
	items_Summoner = items_Summoner + 1;
	//power +=1;
	summonerID.innerHTML = items_Summoner;
	localStorage.setItem("items_Summoner", items_Summoner);
	totalItems[0] = localStorage.getItem("items_Summoner", items_Summoner);

}

//Check to see if time exists in storage. If it doesn't, set it to 0.
if (localStorage.getItem("time") === null )
{
	localStorage.setItem("time", "0");
	timerID.innerHTML = parseInt(localStorage.getItem("time"));

} else {
	time = parseInt(localStorage.getItem("time", time));
	items_Summoner = parseInt(localStorage.getItem("items_Summoner", items_Summoner));
}

//Updates timer all the time too much of the time. Also saves the time all the time. Bad idea?
setInterval(function(){
	timerID.innerHTML = time;
	localStorage.setItem("time", time);
}
	, 1)

//Adds to the timer every second.
setInterval( function(){
	power = parseInt(totalItems[0]);
	time = time + power;
}, 1000);  

</script>
</body>

</html>